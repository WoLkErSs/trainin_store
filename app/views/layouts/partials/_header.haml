%header.navbar.navbar-default
  .container
    .navbar-header
      %button.navbar-toggle.pull-left{"data-target" => "#navbar", "data-toggle" => "collapse", type: "button"}
        %span.sr-only
        %span.icon-bar
        %span.icon-bar
        %span.icon-bar
      = link_to 'Bookstore', root_path, class: 'navbar-brand'
    - if user_signed_in?
      %a.shop-link.pull-right.visible-xs{href: "#"}
        %span.shop-icon
          %span.shop-quantity
            = @header.get_order_item_quantity(current_user)
      %a.shop-link.pull-right.hidden-xs{href: "#"}
        %span.shop-icon
          %span.shop-quantity
            = @header.get_order_item_quantity(current_user)
    #navbar.navbar-collapse.collapse.pl-30{"aria-expanded": "false"}
      .visible-xs
        %button.close{"aria-label": "Close", type: "button"}
          %span{"aria-hidden": "true"} Ã—
        %ul.nav.navbar-nav
          %li
            = link_to t('header.home'), root_path
          %li
            %a{"aria-controls": "menu", "aria-expanded": "false", "data-toggle": "collapse", href: "#menu", type: "button"}
              = t('header.shop')
            %ul#menu.collapse.list-unstyled.pl-30.mb-10{"aria-expanded" => "false"}
              - @header.categories.each do |category|
                %li
                  = link_to category.title, books_path(category: category.id)
          - if user_signed_in?
            %li.dropdown
              %a.dropdown-toggle{"aria-expanded": "false", "aria-haspopup": "true", "data-toggle": "dropdown", href: "#", role: "button"}
                = t('header.account')
              %ul.dropdown-menu
                %li
                  = link_to t('header.settings')
                %li
                  = link_to t('header.orders')
                %li.divider{role: "separator"}
                %li
                  = link_to t('header.logout'), destroy_user_session_path, method: :delete
          - unless user_signed_in?
            %li
              = link_to t('header.sign_up'), new_user_registration_path, class: 'navbar-link'
            %li
              = link_to t('header.login'), new_user_session_path, class: 'navbar-link'
      .hidden-xs
        %ul.nav.navbar-nav
          %li
            = link_to t('header.home'), root_path
          %li.dropdown
            %a.dropdown-toggle{"aria-expanded" => "false", "aria-haspopup" => "true", "data-toggle" => "dropdown", href: "#", role: "button"}
              = t('header.shop')
            %ul.dropdown-menu
              - @header.categories.each do |category|
                %li
                  = link_to category.title, books_path(category: category.id)
          - if user_signed_in?
            %li.dropdown
              %a.dropdown-toggle{"aria-expanded": "false", "aria-haspopup": "true", "data-toggle": "dropdown", href: "#", role: "button"}
                = t('header.account')
              %ul.dropdown-menu
                %li
                  = link_to t('header.settings')
                %li
                  = link_to t('header.orders')
                %li.divider{role: "separator"}
                %li
                  = link_to t('header.logout'), destroy_user_session_path, method: :delete
          - unless user_signed_in?
            %li
              = link_to t('header.sign_up'), new_user_registration_path, class: 'navbar-link'
            %li
              = link_to t('header.login'), new_user_session_path, class: 'navbar-link'
