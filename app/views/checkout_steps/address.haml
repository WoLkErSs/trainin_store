%main.container
  %h1.general-title-margin
    =t('checkout.title')
  = render partial: 'checkout_steps/partials/status_line', locals: { presenter: @presenter }
  %form.res-mb-100
    .hidden-xs.hidden-sm
      .row
        .col-md-5
          %h3.general-subtitle
            =t('checkout.address.billing_title')
          %p.general-info-text
            =t('checkout.address.require_filds')
        .col-md-5.col-md-offset-1
          %h3.general-subtitle
            =t('checkout.address.shipping_title')
  = simple_form_for current_order, url: checkout_step_path, method: :patch,
  defaults: { input_html: { class: 'form-control' }, wrapper_html: { class: 'form-group' },
  label_html: { class: 'control-label input-label' } }, validate: true do |f|
    .row
      .col-md-5.mb-40
        .visible-xs.visible-sm
          %h3.general-subtitle
            =t('checkout.address.billing_title')
          %p.general-info-text all fields are required
        #billing_form
          = f.simple_fields_for('billing_address', @presenter.billing_address) do |billing|
            = render partial: 'address/form_address', locals: { f: billing, type: 'billing_address' }
      .col-md-5.col-md-offset-1.mb-60
        .visible-xs.visible-sm
          %h3.general-subtitle
            =t('checkout.address.shipping_title')
        #shipping_form{class: ('hidden' if @presenter.shipping_address.use_billing_address) }
          = f.simple_fields_for('shipping_address', @presenter.shipping_address) do |shipping|
            = render partial: 'address/form_address', locals: { f: shipping, type: 'shipping_address' }
          = f.input :use_billing, as: :hidden, id: 'order_use_billing', input_html: { value: nil }
        .form-group.checkbox
          %label.checkbox-label
            - if @presenter.shipping_address.use_billing_address
              %input.checkbox-input#use_billing(hidden="false" type="checkbox" checked='checked')/
            -else
              %input.checkbox-input#use_billing(hidden="false" type="checkbox")/
            %span.checkbox-icon
              %i.fa.fa-check
            %span.checkbox-text
              =t('checkout.address.checkbox')
    .general-text-align.mb-60
      = render partial: 'checkout_steps/partials/summary', locals: { presenter: @presenter }
      = f.button :submit, t('checkout.button'), class: 'btn center-block mb-20'
