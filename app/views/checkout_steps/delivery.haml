%main.container.general-main-wrap
  %h1.general-title-margin
    =t('checkout.title')
  = render partial: 'checkout_steps/partials/status_line', locals: { presenter: @presenter }
  %h3.general-subtitle
    = t('checkout.delivery.delivery_title')
  = simple_form_for 'delivery', url: checkout_step_path, method: :patch do |f|
    .visible-xs
      .general-cart-item.divider-lg-bottom.mb-30
        %table.table
          - @presenter.delivery_services.each do |service|
            %tr
              %td.col-half
                %span.in-grey-600
                  =t('checkout.delivery.method_column')
              %td.col-half
                .form-group.radio.mt-0.mb-0
                  %label.radio-label
                    - if @presenter.current_delivery_service?(current_order, service)
                      = f.radio_button :deliver_id, service.id, class: 'radio-icon pl-10', checked: 'checked'
                    - else
                      = f.radio_button :deliver_id, service.id, class: 'radio-icon pl-10'
                    %span.radio-text.ml-30
                    = service.name
            %tr
              %td
                %span.in-grey-600
                  =t('checkout.delivery.days_column')
              %td
                %span.font-16.fw-300
                  =t('checkout.delivery.deadlines', from: service.from_days, to: service.to_days)
            %tr
              %td
                %span.in-grey-600
                  =t('checkout.delivery.price_column')
              %td
                %span.font-16.in-gold-500
                  = t('price', price: service.price)
    .hidden-xs.mb-res-50
      %table.table.table-hover
        %thead
          %tr
            %th.col-method
              %span.in-grey-600.ml-40
                =t('checkout.delivery.method_column')
            %th
              %span.in-grey-600
                =t('checkout.delivery.days_column')
            %th
              %span.in-grey-600
                =t('checkout.delivery.price_column')
        %tbody
          - @presenter.delivery_services.each do |service|
            %tr
              %td
                .form-group.radio.mt-0.mb-0
                  %label.radio-label
                    - if @presenter.current_delivery_service?(current_order, service)
                      = f.radio_button :deliver_id, service.id, class: 'radio-icon pl-10', checked: 'checked'
                    - else
                      = f.radio_button :deliver_id, service.id, class: 'radio-icon pl-10'
                    %span.radio-text.ml-30
                      = service.name
              %td
                %span
                  =t('checkout.delivery.deadlines', from: service.from_days, to: service.to_days)
              %td
                %span.font-16.in-gold-500
                  = t('price', price: service.price)
    .general-text-align
      = render partial: 'checkout_steps/partials/summary', locals: { presenter: @presenter }
    .text-center
      = f.button :submit, t('checkout.button'), class: 'btn center-block mb-20'
